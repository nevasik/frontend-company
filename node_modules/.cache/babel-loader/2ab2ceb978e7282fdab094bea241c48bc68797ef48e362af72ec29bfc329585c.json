{"ast":null,"code":"var _jsxFileName = \"/Users/dimapoplaukhin/Downloads/compaign-front-final/src/pages/people/AllPeople.js\",\n  _s = $RefreshSig$();\nimport PersonForm from \"../../components/person/PersonForm\";\nimport { useEffect } from \"react\";\nimport PersonTable from \"../../components/person/PersonTable\";\nimport Error from \"../../components/Error\";\nimport CommonContainer from '../../components/CommonContainer';\nimport { Button } from 'react-bootstrap';\nimport CommonModal from '../../components/CommonModal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createPerson, fetchPeople, removePerson, updatePerson, toggleModal } from \"../../store\";\nimport { editPerson, setError, setPerson } from \"../../store/slices/peopleSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AllPeople() {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    people,\n    error,\n    loading,\n    person\n  } = useSelector(state => state.people);\n  const {\n    modal\n  } = useSelector(state => state.form);\n  useEffect(() => {\n    dispatch(fetchPeople());\n  }, [dispatch]);\n  const modalTitle = modal == \"edit\" ? \"Редактировать пользователя\" : \"Создать пользователя\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CommonModal, {\n      title: modalTitle,\n      show: modal !== \"off\",\n      setShow: () => dispatch(toggleModal(\"off\")),\n      children: [modal === \"add\" && /*#__PURE__*/_jsxDEV(PersonForm, {\n        type: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",\n        form: person,\n        setForm: v => dispatch(setPerson(v)),\n        onAction: () => dispatch(createPerson(person))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 29\n      }, this), modal === \"edit\" && /*#__PURE__*/_jsxDEV(PersonForm, {\n        type: \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\",\n        form: person,\n        setForm: v => dispatch(setPerson(v)),\n        onAction: () => dispatch(updatePerson(person))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(CommonContainer, {\n      title: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\",\n      children: [error && /*#__PURE__*/_jsxDEV(Error, {\n        onClose: () => dispatch(setError(null)),\n        title: error.title,\n        children: [\" \", error.text]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => dispatch(editPerson()),\n        variant: \"secondary\",\n        className: \"m-2\",\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PersonTable, {\n        people: people,\n        onDelete: id => dispatch(removePerson(id)),\n        onEdit: id => dispatch(editPerson(id))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(AllPeople, \"N2q8l3HfakPx/6UAF1LASKSBFEs=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = AllPeople;\nexport default AllPeople;\nvar _c;\n$RefreshReg$(_c, \"AllPeople\");","map":{"version":3,"names":["PersonForm","useEffect","PersonTable","Error","CommonContainer","Button","CommonModal","useDispatch","useSelector","createPerson","fetchPeople","removePerson","updatePerson","toggleModal","editPerson","setError","setPerson","jsxDEV","_jsxDEV","Fragment","_Fragment","AllPeople","_s","dispatch","people","error","loading","person","state","modal","form","modalTitle","children","title","show","setShow","type","setForm","v","onAction","fileName","_jsxFileName","lineNumber","columnNumber","onClose","text","onClick","variant","className","onDelete","id","onEdit","_c","$RefreshReg$"],"sources":["/Users/dimapoplaukhin/Downloads/compaign-front-final/src/pages/people/AllPeople.js"],"sourcesContent":["import PersonForm from \"../../components/person/PersonForm\";\r\nimport {useEffect} from \"react\";\r\nimport PersonTable from \"../../components/person/PersonTable\";\r\nimport Error from \"../../components/Error\";\r\nimport CommonContainer from '../../components/CommonContainer';\r\nimport { Button } from 'react-bootstrap';\r\nimport CommonModal from '../../components/CommonModal';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport { createPerson, fetchPeople, removePerson, updatePerson, toggleModal } from \"../../store\";\r\nimport { editPerson, setError, setPerson } from \"../../store/slices/peopleSlice\";\r\n\r\n\r\nfunction AllPeople() {\r\n    const dispatch = useDispatch()\r\n\r\n    const {people, error, loading, person} = useSelector(state => state.people)\r\n\r\n    const {modal} = useSelector(state =>  state.form)\r\n\r\n    useEffect(() => {dispatch(fetchPeople())}, [dispatch]);\r\n    \r\n    const modalTitle = modal == \"edit\" ? \"Редактировать пользователя\" : \"Создать пользователя\"\r\n   \r\n   return (<>\r\n\r\n    <CommonModal title={modalTitle} show={modal !== \"off\"} setShow={() => dispatch(toggleModal(\"off\"))}>\r\n        {modal === \"add\" && <PersonForm type=\"Добавить\" form={person} setForm={(v) => dispatch(setPerson(v))} onAction={() => dispatch(createPerson(person))}/>}\r\n        {modal === \"edit\" && <PersonForm type=\"Обновить\" form={person} setForm={(v) => dispatch(setPerson(v))} onAction={() => dispatch(updatePerson(person))}/>}\r\n    </CommonModal>\r\n\r\n    <CommonContainer title=\"Пользователи\">\r\n        {error && <Error onClose={()=> dispatch(setError(null))} title={error.title}> {error.text}</Error>}\r\n                <Button onClick={() => dispatch(editPerson())} variant=\"secondary\" className=\"m-2\">Добавить</Button>\r\n                <PersonTable people={people} onDelete={(id) => dispatch(removePerson(id))} onEdit={(id) => dispatch(editPerson(id))}/>\r\n    </CommonContainer>\r\n    </>)\r\n}\r\n\r\nexport default AllPeople"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}