{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { createCampaign, fetchCampaigns, getCampaign, removeCampaign, updateCampaign } from \"../thunks/campaignThunk\";\nconst defaultCampaign = {\n  name: \"\",\n  budget: \"\",\n  targetAudience: \"\",\n  startDate: \"\",\n  endDate: \"\",\n  person: 0\n};\nconst campaigns = createSlice({\n  name: 'campaigns',\n  initialState: {\n    campaigns: [],\n    loading: false,\n    error: null,\n    campaign: defaultCampaign\n  },\n  reducers: {\n    editCampaign(state, action) {\n      const campaign = state.campaigns.find(p => p.id === action.payload);\n      if (campaign) {\n        state.campaign = campaign;\n      } else {\n        state.campaign = defaultCampaign;\n      }\n    },\n    setCampaign(state, action) {\n      state.campaign = action.payload;\n    },\n    setError(state, action) {\n      state.error = action.payload;\n    }\n  },\n  extraReducers(builder) {\n    builder.addCase(fetchCampaigns.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(fetchCampaigns.fulfilled, (state, action) => {\n      state.loading = false;\n      state.campaigns = action.payload;\n    });\n    builder.addCase(fetchCampaigns.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error;\n    });\n    builder.addCase(createCampaign.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(createCampaign.fulfilled, (state, action) => {\n      state.loading = false;\n      state.campaigns.push(action.payload);\n    });\n    builder.addCase(createCampaign.rejected, (state, action) => {\n      state.loading = false;\n      state.error = {\n        title: \"Не удалось создать\"\n      };\n    });\n    builder.addCase(removeCampaign.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(removeCampaign.fulfilled, (state, action) => {\n      state.loading = false;\n      const index = state.campaigns.findIndex(p => p.id === action.payload);\n      state.campaigns.splice(index, 1);\n    });\n    builder.addCase(removeCampaign.rejected, (state, action) => {\n      state.loading = false;\n      state.error = {\n        title: \"Не удалось удалить\"\n      };\n    });\n    builder.addCase(updateCampaign.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(updateCampaign.fulfilled, (state, action) => {\n      state.loading = false;\n      const index = state.campaigns.findIndex(p => p.id === action.payload.id);\n      state.campaigns[index] = action.payload;\n    });\n    builder.addCase(updateCampaign.rejected, (state, action) => {\n      state.loading = false;\n      state.error = {\n        title: \"Не удалось обновить\"\n      };\n    });\n    builder.addCase(getCampaign.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(getCampaign.fulfilled, (state, action) => {\n      state.loading = false;\n      state.campaign = action.payload.entity;\n    });\n    builder.addCase(getCampaign.rejected, (state, action) => {\n      state.loading = false;\n      state.error = {\n        title: \"Не удалось обновить\"\n      };\n    });\n  }\n});\nexport default campaigns.reducer;\nexport const {\n  editCampaign,\n  setCampaign,\n  setError\n} = campaigns.actions;","map":{"version":3,"names":["createSlice","createCampaign","fetchCampaigns","getCampaign","removeCampaign","updateCampaign","defaultCampaign","name","budget","targetAudience","startDate","endDate","person","campaigns","initialState","loading","error","campaign","reducers","editCampaign","state","action","find","p","id","payload","setCampaign","setError","extraReducers","builder","addCase","pending","fulfilled","rejected","push","title","index","findIndex","splice","entity","reducer","actions"],"sources":["/Users/dimapoplaukhin/Downloads/compaign-front-final/src/store/slices/campaignSlice.js"],"sourcesContent":["import {  createSlice } from \"@reduxjs/toolkit\";\r\nimport { createCampaign, fetchCampaigns, getCampaign, removeCampaign, updateCampaign } from \"../thunks/campaignThunk\";\r\n\r\nconst defaultCampaign = {name: \"\", budget: \"\", targetAudience: \"\", startDate: \"\", endDate: \"\", person: 0}\r\n\r\n\r\n\r\nconst campaigns = createSlice({\r\n    name: 'campaigns',\r\n    initialState: {\r\n        campaigns: [],\r\n        loading: false,\r\n        error: null,\r\n        campaign: defaultCampaign\r\n    },\r\n    reducers: {\r\n        editCampaign(state, action) {\r\n           const campaign = state.campaigns.find(p => p.id === action.payload)\r\n           if (campaign){\r\n            state.campaign = campaign\r\n           } else {\r\n            state.campaign = defaultCampaign\r\n           }\r\n        },\r\n        setCampaign(state, action) {\r\n            state.campaign = action.payload\r\n        },\r\n        setError(state, action) {\r\n            state.error = action.payload\r\n        }\r\n    },\r\n    extraReducers(builder) {\r\n        builder.addCase(fetchCampaigns.pending, (state, action) => {\r\n            state.loading = true\r\n        })\r\n        builder.addCase(fetchCampaigns.fulfilled, (state, action) => {\r\n            state.loading = false\r\n            state.campaigns = action.payload\r\n        })\r\n        builder.addCase(fetchCampaigns.rejected, (state, action) => {\r\n            state.loading = false\r\n            state.error = action.error\r\n        })\r\n        \r\n        builder.addCase(createCampaign.pending, (state, action) => {\r\n            state.loading = true\r\n        })\r\n        builder.addCase(createCampaign.fulfilled, (state, action) => {\r\n            state.loading = false\r\n            state.campaigns.push(action.payload)\r\n        })\r\n        builder.addCase(createCampaign.rejected, (state, action) => {\r\n            state.loading = false\r\n            state.error = {title: \"Не удалось создать\"}\r\n        })\r\n\r\n        builder.addCase(removeCampaign.pending, (state, action) => {\r\n            state.loading = true\r\n        })\r\n        builder.addCase(removeCampaign.fulfilled, (state, action) => {\r\n            state.loading = false\r\n            const index = state.campaigns.findIndex(p => p.id === action.payload)\r\n            state.campaigns.splice(index, 1)\r\n        })\r\n        builder.addCase(removeCampaign.rejected, (state, action) => {\r\n            state.loading = false\r\n            state.error = {title: \"Не удалось удалить\"}\r\n        })\r\n\r\n        builder.addCase(updateCampaign.pending, (state, action) => {\r\n            state.loading = true\r\n        })\r\n        builder.addCase(updateCampaign.fulfilled, (state, action) => {\r\n            state.loading = false\r\n            const index = state.campaigns.findIndex(p => p.id === action.payload.id)\r\n            state.campaigns[index] = action.payload\r\n        })\r\n        builder.addCase(updateCampaign.rejected, (state, action) => {\r\n            state.loading = false\r\n            state.error = {title: \"Не удалось обновить\"}\r\n        })\r\n\r\n        builder.addCase(getCampaign.pending, (state, action) => {\r\n            state.loading = true\r\n        })\r\n        builder.addCase(getCampaign.fulfilled, (state, action) => {\r\n            state.loading = false\r\n            state.campaign = action.payload.entity\r\n        })\r\n        builder.addCase(getCampaign.rejected, (state, action) => {\r\n            state.loading = false\r\n            state.error = {title: \"Не удалось обновить\"}\r\n        })\r\n    }\r\n})\r\n\r\nexport default campaigns.reducer\r\nexport const { editCampaign, setCampaign, setError} = campaigns.actions"],"mappings":"AAAA,SAAUA,WAAW,QAAQ,kBAAkB;AAC/C,SAASC,cAAc,EAAEC,cAAc,EAAEC,WAAW,EAAEC,cAAc,EAAEC,cAAc,QAAQ,yBAAyB;AAErH,MAAMC,eAAe,GAAG;EAACC,IAAI,EAAE,EAAE;EAAEC,MAAM,EAAE,EAAE;EAAEC,cAAc,EAAE,EAAE;EAAEC,SAAS,EAAE,EAAE;EAAEC,OAAO,EAAE,EAAE;EAAEC,MAAM,EAAE;AAAC,CAAC;AAIzG,MAAMC,SAAS,GAAGb,WAAW,CAAC;EAC1BO,IAAI,EAAE,WAAW;EACjBO,YAAY,EAAE;IACVD,SAAS,EAAE,EAAE;IACbE,OAAO,EAAE,KAAK;IACdC,KAAK,EAAE,IAAI;IACXC,QAAQ,EAAEX;EACd,CAAC;EACDY,QAAQ,EAAE;IACNC,YAAYA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACzB,MAAMJ,QAAQ,GAAGG,KAAK,CAACP,SAAS,CAACS,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKH,MAAM,CAACI,OAAO,CAAC;MACnE,IAAIR,QAAQ,EAAC;QACZG,KAAK,CAACH,QAAQ,GAAGA,QAAQ;MAC1B,CAAC,MAAM;QACNG,KAAK,CAACH,QAAQ,GAAGX,eAAe;MACjC;IACH,CAAC;IACDoB,WAAWA,CAACN,KAAK,EAAEC,MAAM,EAAE;MACvBD,KAAK,CAACH,QAAQ,GAAGI,MAAM,CAACI,OAAO;IACnC,CAAC;IACDE,QAAQA,CAACP,KAAK,EAAEC,MAAM,EAAE;MACpBD,KAAK,CAACJ,KAAK,GAAGK,MAAM,CAACI,OAAO;IAChC;EACJ,CAAC;EACDG,aAAaA,CAACC,OAAO,EAAE;IACnBA,OAAO,CAACC,OAAO,CAAC5B,cAAc,CAAC6B,OAAO,EAAE,CAACX,KAAK,EAAEC,MAAM,KAAK;MACvDD,KAAK,CAACL,OAAO,GAAG,IAAI;IACxB,CAAC,CAAC;IACFc,OAAO,CAACC,OAAO,CAAC5B,cAAc,CAAC8B,SAAS,EAAE,CAACZ,KAAK,EAAEC,MAAM,KAAK;MACzDD,KAAK,CAACL,OAAO,GAAG,KAAK;MACrBK,KAAK,CAACP,SAAS,GAAGQ,MAAM,CAACI,OAAO;IACpC,CAAC,CAAC;IACFI,OAAO,CAACC,OAAO,CAAC5B,cAAc,CAAC+B,QAAQ,EAAE,CAACb,KAAK,EAAEC,MAAM,KAAK;MACxDD,KAAK,CAACL,OAAO,GAAG,KAAK;MACrBK,KAAK,CAACJ,KAAK,GAAGK,MAAM,CAACL,KAAK;IAC9B,CAAC,CAAC;IAEFa,OAAO,CAACC,OAAO,CAAC7B,cAAc,CAAC8B,OAAO,EAAE,CAACX,KAAK,EAAEC,MAAM,KAAK;MACvDD,KAAK,CAACL,OAAO,GAAG,IAAI;IACxB,CAAC,CAAC;IACFc,OAAO,CAACC,OAAO,CAAC7B,cAAc,CAAC+B,SAAS,EAAE,CAACZ,KAAK,EAAEC,MAAM,KAAK;MACzDD,KAAK,CAACL,OAAO,GAAG,KAAK;MACrBK,KAAK,CAACP,SAAS,CAACqB,IAAI,CAACb,MAAM,CAACI,OAAO,CAAC;IACxC,CAAC,CAAC;IACFI,OAAO,CAACC,OAAO,CAAC7B,cAAc,CAACgC,QAAQ,EAAE,CAACb,KAAK,EAAEC,MAAM,KAAK;MACxDD,KAAK,CAACL,OAAO,GAAG,KAAK;MACrBK,KAAK,CAACJ,KAAK,GAAG;QAACmB,KAAK,EAAE;MAAoB,CAAC;IAC/C,CAAC,CAAC;IAEFN,OAAO,CAACC,OAAO,CAAC1B,cAAc,CAAC2B,OAAO,EAAE,CAACX,KAAK,EAAEC,MAAM,KAAK;MACvDD,KAAK,CAACL,OAAO,GAAG,IAAI;IACxB,CAAC,CAAC;IACFc,OAAO,CAACC,OAAO,CAAC1B,cAAc,CAAC4B,SAAS,EAAE,CAACZ,KAAK,EAAEC,MAAM,KAAK;MACzDD,KAAK,CAACL,OAAO,GAAG,KAAK;MACrB,MAAMqB,KAAK,GAAGhB,KAAK,CAACP,SAAS,CAACwB,SAAS,CAACd,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKH,MAAM,CAACI,OAAO,CAAC;MACrEL,KAAK,CAACP,SAAS,CAACyB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;IACpC,CAAC,CAAC;IACFP,OAAO,CAACC,OAAO,CAAC1B,cAAc,CAAC6B,QAAQ,EAAE,CAACb,KAAK,EAAEC,MAAM,KAAK;MACxDD,KAAK,CAACL,OAAO,GAAG,KAAK;MACrBK,KAAK,CAACJ,KAAK,GAAG;QAACmB,KAAK,EAAE;MAAoB,CAAC;IAC/C,CAAC,CAAC;IAEFN,OAAO,CAACC,OAAO,CAACzB,cAAc,CAAC0B,OAAO,EAAE,CAACX,KAAK,EAAEC,MAAM,KAAK;MACvDD,KAAK,CAACL,OAAO,GAAG,IAAI;IACxB,CAAC,CAAC;IACFc,OAAO,CAACC,OAAO,CAACzB,cAAc,CAAC2B,SAAS,EAAE,CAACZ,KAAK,EAAEC,MAAM,KAAK;MACzDD,KAAK,CAACL,OAAO,GAAG,KAAK;MACrB,MAAMqB,KAAK,GAAGhB,KAAK,CAACP,SAAS,CAACwB,SAAS,CAACd,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKH,MAAM,CAACI,OAAO,CAACD,EAAE,CAAC;MACxEJ,KAAK,CAACP,SAAS,CAACuB,KAAK,CAAC,GAAGf,MAAM,CAACI,OAAO;IAC3C,CAAC,CAAC;IACFI,OAAO,CAACC,OAAO,CAACzB,cAAc,CAAC4B,QAAQ,EAAE,CAACb,KAAK,EAAEC,MAAM,KAAK;MACxDD,KAAK,CAACL,OAAO,GAAG,KAAK;MACrBK,KAAK,CAACJ,KAAK,GAAG;QAACmB,KAAK,EAAE;MAAqB,CAAC;IAChD,CAAC,CAAC;IAEFN,OAAO,CAACC,OAAO,CAAC3B,WAAW,CAAC4B,OAAO,EAAE,CAACX,KAAK,EAAEC,MAAM,KAAK;MACpDD,KAAK,CAACL,OAAO,GAAG,IAAI;IACxB,CAAC,CAAC;IACFc,OAAO,CAACC,OAAO,CAAC3B,WAAW,CAAC6B,SAAS,EAAE,CAACZ,KAAK,EAAEC,MAAM,KAAK;MACtDD,KAAK,CAACL,OAAO,GAAG,KAAK;MACrBK,KAAK,CAACH,QAAQ,GAAGI,MAAM,CAACI,OAAO,CAACc,MAAM;IAC1C,CAAC,CAAC;IACFV,OAAO,CAACC,OAAO,CAAC3B,WAAW,CAAC8B,QAAQ,EAAE,CAACb,KAAK,EAAEC,MAAM,KAAK;MACrDD,KAAK,CAACL,OAAO,GAAG,KAAK;MACrBK,KAAK,CAACJ,KAAK,GAAG;QAACmB,KAAK,EAAE;MAAqB,CAAC;IAChD,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEF,eAAetB,SAAS,CAAC2B,OAAO;AAChC,OAAO,MAAM;EAAErB,YAAY;EAAEO,WAAW;EAAEC;AAAQ,CAAC,GAAGd,SAAS,CAAC4B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}