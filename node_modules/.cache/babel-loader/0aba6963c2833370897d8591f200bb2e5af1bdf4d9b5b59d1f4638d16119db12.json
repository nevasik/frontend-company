{"ast":null,"code":"var _jsxFileName = \"/Users/dimapoplaukhin/Downloads/compaign-front-final/src/pages/companies/AllCompaigns.js\",\n  _s = $RefreshSig$();\nimport CompainForm from \"../../components/compain/CompainForm\";\nimport { useEffect } from \"react\";\nimport CompainTable from \"../../components/compain/CompainTable\";\nimport Error from \"../../components/Error\";\nimport CommonContainer from '../../components/CommonContainer';\nimport { Button } from 'react-bootstrap';\nimport CommonModal from '../../components/CommonModal';\nimport { createCampaign, fetchCampaigns, removeCampaign, updateCampaign } from \"../../store/thunks/campaignThunk\";\nimport { editCampaign, setCampaign } from \"../../store/slices/campaignSlice\";\nimport { setError, toggleModal } from \"../../store\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AllCampaigns() {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    campaigns,\n    error,\n    loading,\n    campaign\n  } = useSelector(state => state.campaigns);\n  const {\n    modal\n  } = useSelector(state => state.form);\n  useEffect(() => {\n    dispatch(fetchCampaigns());\n  }, [dispatch]);\n  const modalTitle = modal == \"edit\" ? \"Редактировать компанию\" : \"Создать компанию\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CommonModal, {\n      title: modalTitle,\n      show: modal !== \"off\",\n      setShow: () => dispatch(toggleModal(\"off\")),\n      children: [modal === \"add\" && /*#__PURE__*/_jsxDEV(CompainForm, {\n        type: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",\n        form: campaign,\n        setForm: v => dispatch(setCampaign(v)),\n        onAction: () => dispatch(createCampaign(campaign))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 29\n      }, this), modal === \"edit\" && /*#__PURE__*/_jsxDEV(CompainForm, {\n        type: \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\",\n        form: campaign,\n        setForm: v => dispatch(setCampaign(v)),\n        onAction: () => dispatch(updateCampaign(campaign))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(CommonContainer, {\n      title: \"\\u041A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438\",\n      children: [error && /*#__PURE__*/_jsxDEV(Error, {\n        onClose: () => dispatch(setError(null)),\n        title: error.title,\n        children: [\" \", error.text]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => dispatch(editCampaign()),\n        variant: \"secondary\",\n        className: \"m-2\",\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CompainTable, {\n        campaigns: campaigns,\n        onDelete: id => dispatch(removeCampaign(id)),\n        onEdit: id => dispatch(editCampaign(id))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(AllCampaigns, \"jxZNAb8HsrC/MP8NmC6KbYNpdFs=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = AllCampaigns;\nexport default AllCampaigns;\nvar _c;\n$RefreshReg$(_c, \"AllCampaigns\");","map":{"version":3,"names":["CompainForm","useEffect","CompainTable","Error","CommonContainer","Button","CommonModal","createCampaign","fetchCampaigns","removeCampaign","updateCampaign","editCampaign","setCampaign","setError","toggleModal","useDispatch","useSelector","jsxDEV","_jsxDEV","Fragment","_Fragment","AllCampaigns","_s","dispatch","campaigns","error","loading","campaign","state","modal","form","modalTitle","children","title","show","setShow","type","setForm","v","onAction","fileName","_jsxFileName","lineNumber","columnNumber","onClose","text","onClick","variant","className","onDelete","id","onEdit","_c","$RefreshReg$"],"sources":["/Users/dimapoplaukhin/Downloads/compaign-front-final/src/pages/companies/AllCompaigns.js"],"sourcesContent":["import CompainForm from \"../../components/compain/CompainForm\";\r\nimport {useEffect} from \"react\";\r\nimport CompainTable from \"../../components/compain/CompainTable\";\r\nimport Error from \"../../components/Error\";\r\nimport CommonContainer from '../../components/CommonContainer';\r\nimport { Button } from 'react-bootstrap';\r\nimport CommonModal from '../../components/CommonModal';\r\nimport { createCampaign, fetchCampaigns, removeCampaign, updateCampaign } from \"../../store/thunks/campaignThunk\";\r\nimport { editCampaign, setCampaign } from \"../../store/slices/campaignSlice\";\r\nimport { setError, toggleModal } from \"../../store\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\n\r\nfunction AllCampaigns() {\r\n    const dispatch = useDispatch()\r\n\r\n    const {campaigns, error, loading, campaign} = useSelector(state => state.campaigns)\r\n\r\n    const {modal} = useSelector(state =>  state.form)\r\n\r\n    useEffect(() => {dispatch(fetchCampaigns())}, [dispatch]);\r\n    \r\n    const modalTitle = modal == \"edit\" ? \"Редактировать компанию\" : \"Создать компанию\"\r\n   \r\n   return (<>\r\n    <CommonModal title={modalTitle} show={modal !== \"off\"} setShow={() => dispatch(toggleModal(\"off\"))}>\r\n        {modal === \"add\" && <CompainForm type=\"Добавить\" form={campaign} setForm={(v) => dispatch(setCampaign(v))} onAction={() => dispatch(createCampaign(campaign))}/>}\r\n        {modal === \"edit\" && <CompainForm type=\"Обновить\" form={campaign} setForm={(v) => dispatch(setCampaign(v))} onAction={() => dispatch(updateCampaign(campaign))}/>}\r\n    </CommonModal>\r\n    \r\n    <CommonContainer title=\"Компании\">\r\n        {error && <Error onClose={()=> dispatch(setError(null))} title={error.title}> {error.text}</Error>}\r\n                <Button onClick={() => dispatch(editCampaign())} variant=\"secondary\" className=\"m-2\">Добавить</Button>\r\n                <CompainTable campaigns={campaigns} onDelete={(id) => dispatch(removeCampaign(id))} onEdit={(id) => dispatch(editCampaign(id))}/>\r\n    </CommonContainer>\r\n    </>)\r\n}\r\n\r\nexport default AllCampaigns;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}